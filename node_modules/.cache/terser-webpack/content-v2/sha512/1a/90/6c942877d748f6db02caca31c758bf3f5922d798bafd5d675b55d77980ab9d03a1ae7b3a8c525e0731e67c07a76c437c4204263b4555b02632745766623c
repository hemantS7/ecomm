{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{EAwp:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"routes\",(function(){return routes})),__webpack_require__.d(__webpack_exports__,\"ReviewsModule\",(function(){return reviews_module_ReviewsModule}));var common=__webpack_require__(\"ofXK\"),router=__webpack_require__(\"tyNb\"),shared_module=__webpack_require__(\"PCNd\"),ngx_pagination=__webpack_require__(\"oOf3\"),confirm_dialog_component=__webpack_require__(\"ZokB\"),core=__webpack_require__(\"fXoL\"),dialog=__webpack_require__(\"0IaG\"),card=__webpack_require__(\"Wp6s\"),flex=__webpack_require__(\"XiUz\"),divider=__webpack_require__(\"f0Cb\"),icon=__webpack_require__(\"NFeN\"),tooltip=__webpack_require__(\"Qu3c\"),rating_component=__webpack_require__(\"TZED\"),fesm2015_button=__webpack_require__(\"bTqV\"),filter_by_id_pipe=__webpack_require__(\"vBMV\");function ReviewsComponent_div_22_button_21_Template(rf,ctx){if(1&rf){const _r6=core.ec();core.dc(0,\"button\",22),core.lc(\"click\",(function(){core.Fc(_r6);const review_r2=core.pc().$implicit;return core.pc().unApprove(review_r2)})),core.dc(1,\"mat-icon\"),core.Oc(2,\"undo\"),core.cc(),core.cc()}}function ReviewsComponent_div_22_Template(rf,ctx){if(1&rf){const _r8=core.ec();core.dc(0,\"div\",11),core.dc(1,\"div\",12),core.dc(2,\"mat-icon\",13),core.qc(3,\"filterById\"),core.Oc(4),core.cc(),core.cc(),core.dc(5,\"div\",14),core.Yb(6,\"img\",15),core.cc(),core.dc(7,\"div\",16),core.Oc(8),core.cc(),core.dc(9,\"div\",16),core.Oc(10),core.cc(),core.dc(11,\"div\",17),core.Yb(12,\"app-rating\",18),core.cc(),core.dc(13,\"div\",16),core.Oc(14),core.qc(15,\"filterById\"),core.cc(),core.dc(16,\"div\",16),core.Oc(17),core.qc(18,\"date\"),core.cc(),core.dc(19,\"div\",16),core.dc(20,\"div\",19),core.Mc(21,ReviewsComponent_div_22_button_21_Template,3,0,\"button\",20),core.dc(22,\"button\",21),core.lc(\"click\",(function(){core.Fc(_r8);const review_r2=ctx.$implicit;return core.pc().remove(review_r2)})),core.dc(23,\"mat-icon\"),core.Oc(24,\"delete\"),core.cc(),core.cc(),core.cc(),core.cc(),core.cc()}if(2&rf){const review_r2=ctx.$implicit,ctx_r0=core.pc();var tmp_1_0;const currVal_1=null==(tmp_1_0=core.sc(3,13,ctx_r0.statuses,review_r2.statusId))?null:tmp_1_0.name;var tmp_10_0;core.Kb(2),core.vc(\"color\",1==review_r2.statusId?\"primary\":\"warn\")(\"matTooltip\",currVal_1),core.Kb(2),core.Pc(1==review_r2.statusId?\"check_circle\":\"access_time\"),core.Kb(2),core.vc(\"src\",review_r2.image,core.Hc),core.Kb(2),core.Pc(review_r2.author),core.Kb(2),core.Pc(review_r2.comment),core.Kb(2),core.vc(\"ratingsCount\",null==review_r2?null:review_r2.ratingsCount)(\"ratingsValue\",null==review_r2?null:review_r2.ratingsValue)(\"showText\",!1)(\"direction\",\"row\"),core.Kb(2),core.Pc(null==(tmp_10_0=core.sc(15,16,ctx_r0.stores,review_r2.storeId))?null:tmp_10_0.name),core.Kb(3),core.Pc(core.sc(18,19,review_r2.date,\"dd MMMM, yyyy 'at' HH:mm\")),core.Kb(4),core.vc(\"ngIf\",1==review_r2.statusId)}}function ReviewsComponent_div_24_Template(rf,ctx){if(1&rf){const _r10=core.ec();core.dc(0,\"div\",23),core.dc(1,\"div\",24),core.dc(2,\"mat-card\",25),core.dc(3,\"pagination-controls\",26),core.lc(\"pageChange\",(function($event){return core.Fc(_r10),core.pc().onPageChanged($event)})),core.cc(),core.cc(),core.cc(),core.cc()}}const _c0=function(a0,a1){return{itemsPerPage:a0,currentPage:a1}},routes=[{path:\"\",component:(()=>{class ReviewsComponent{constructor(dialog){this.dialog=dialog,this.reviews=[{id:1,statusId:1,image:\"assets/images/profile/michael.jpg\",author:\"Michael Blair\",comment:\"lorem ipsum\",ratingsCount:4,ratingsValue:350,storeId:1,date:new Date(2020,1,15,14,30)},{id:2,statusId:2,image:\"assets/images/profile/tereza.jpg\",author:\"Tereza Stiles\",comment:\"lorem ipsum\",ratingsCount:3,ratingsValue:290,storeId:2,date:new Date(2020,2,5,22,20)},{id:3,statusId:2,image:\"assets/images/profile/adam.jpg\",author:\"Adam Sandler\",comment:\"lorem ipsum\",ratingsCount:5,ratingsValue:450,storeId:1,date:new Date(2020,3,29,13,15)},{id:4,statusId:1,image:\"assets/images/profile/julia.jpg\",author:\"Julia Aniston\",comment:\"lorem ipsum\",ratingsCount:4,ratingsValue:350,storeId:2,date:new Date(2020,4,12,11,50)},{id:5,statusId:2,image:\"assets/images/profile/bruno.jpg\",author:\"Bruno Vespa\",comment:\"lorem ipsum\",ratingsCount:3,ratingsValue:300,storeId:2,date:new Date(2020,5,5,16,25)},{id:6,statusId:1,image:\"assets/images/profile/ashley.jpg\",author:\"Ashley Ahlberg\",comment:\"lorem ipsum\",ratingsCount:5,ratingsValue:300,storeId:1,date:new Date(2020,6,18,12,30)},{id:7,statusId:1,image:\"assets/images/avatars/avatar-5.png\",author:\"Michelle Ormond\",comment:\"lorem ipsum\",ratingsCount:4,ratingsValue:300,storeId:1,date:new Date(2020,6,28,17,23)}],this.statuses=[{id:1,name:\"Approved\"},{id:2,name:\"Pending\"}],this.stores=[{id:1,name:\"Store 1\"},{id:2,name:\"Store 2\"}],this.count=6}ngOnInit(){}onPageChanged(event){this.page=event,window.scrollTo(0,0)}unApprove(review){const index=this.reviews.findIndex(x=>x.id==review.id);-1!==index&&(review.statusId=2,this.reviews[index]=review)}remove(review){this.dialog.open(confirm_dialog_component.a,{maxWidth:\"400px\",data:{title:\"Confirm Action\",message:\"Are you sure you want remove this review?\"}}).afterClosed().subscribe(dialogResult=>{if(dialogResult){const index=this.reviews.indexOf(review);-1!==index&&this.reviews.splice(index,1)}})}}return ReviewsComponent.ɵfac=function(t){return new(t||ReviewsComponent)(core.Xb(dialog.b))},ReviewsComponent.ɵcmp=core.Rb({type:ReviewsComponent,selectors:[[\"app-reviews\"]],decls:25,vars:8,consts:[[1,\"p-1\"],[1,\"p-0\"],[\"fxLayout\",\"row wrap\",\"fxLayoutAlign\",\"space-between center\",1,\"w-100\",\"p-2\"],[1,\"mat-table\",\"admin-table\"],[1,\"mat-header-row\"],[1,\"mat-header-cell\",\"status\"],[1,\"mat-header-cell\",\"image\"],[1,\"mat-header-cell\"],[1,\"mat-header-cell\",\"ratings\"],[\"class\",\"mat-row\",4,\"ngFor\",\"ngForOf\"],[\"fxLayout\",\"row wrap\",4,\"ngIf\"],[1,\"mat-row\"],[1,\"mat-cell\",\"status\"],[3,\"color\",\"matTooltip\"],[1,\"mat-cell\",\"image\"],[\"alt\",\"\",\"width\",\"50\",3,\"src\"],[1,\"mat-cell\"],[1,\"mat-cell\",\"ratings\"],[3,\"ratingsCount\",\"ratingsValue\",\"showText\",\"direction\"],[1,\"p-1\",\"actions\"],[\"mat-mini-fab\",\"\",\"color\",\"primary\",\"matTooltip\",\"UnApprove\",3,\"click\",4,\"ngIf\"],[\"mat-mini-fab\",\"\",\"color\",\"warn\",\"matTooltip\",\"Delete\",1,\"mx-1\",3,\"click\"],[\"mat-mini-fab\",\"\",\"color\",\"primary\",\"matTooltip\",\"UnApprove\",3,\"click\"],[\"fxLayout\",\"row wrap\"],[\"fxFlex\",\"100\"],[1,\"p-0\",\"text-center\"],[\"autoHide\",\"true\",\"maxSize\",\"5\",1,\"product-pagination\",3,\"pageChange\"]],template:function(rf,ctx){1&rf&&(core.dc(0,\"div\",0),core.dc(1,\"mat-card\",1),core.dc(2,\"div\",2),core.dc(3,\"h2\"),core.Oc(4,\"Store Reviews\"),core.cc(),core.cc(),core.Yb(5,\"mat-divider\"),core.dc(6,\"div\",3),core.dc(7,\"div\",4),core.Yb(8,\"div\",5),core.dc(9,\"div\",6),core.Oc(10,\"Image\"),core.cc(),core.dc(11,\"div\",7),core.Oc(12,\"Author\"),core.cc(),core.dc(13,\"div\",7),core.Oc(14,\"Comment\"),core.cc(),core.dc(15,\"div\",8),core.Oc(16,\"Rating\"),core.cc(),core.dc(17,\"div\",7),core.Oc(18,\"Store\"),core.cc(),core.dc(19,\"div\",7),core.Oc(20,\"Date\"),core.cc(),core.Yb(21,\"div\",7),core.cc(),core.Mc(22,ReviewsComponent_div_22_Template,25,22,\"div\",9),core.qc(23,\"paginate\"),core.cc(),core.cc(),core.Mc(24,ReviewsComponent_div_24_Template,4,0,\"div\",10),core.cc()),2&rf&&(core.Kb(22),core.vc(\"ngForOf\",core.sc(23,2,ctx.reviews,core.zc(5,_c0,ctx.count,ctx.page))),core.Kb(2),core.vc(\"ngIf\",ctx.reviews.length>0))},directives:[card.a,flex.c,flex.b,divider.a,common.l,common.m,icon.a,tooltip.a,rating_component.a,fesm2015_button.b,flex.a,ngx_pagination.c],pipes:[ngx_pagination.b,filter_by_id_pipe.a,common.e],styles:[\"\"]}),ReviewsComponent})(),pathMatch:\"full\"}];let reviews_module_ReviewsModule=(()=>{class ReviewsModule{}return ReviewsModule.ɵmod=core.Vb({type:ReviewsModule}),ReviewsModule.ɵinj=core.Ub({factory:function(t){return new(t||ReviewsModule)},imports:[[common.c,router.g.forChild(routes),shared_module.a,ngx_pagination.a]]}),ReviewsModule})()},TZED:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return RatingComponent}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"fXoL\"),_angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"XiUz\"),_angular_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"ofXK\"),_angular_material_icon__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(\"NFeN\");function RatingComponent_mat_icon_2_Template(rf,ctx){if(1&rf){const _r5=_angular_core__WEBPACK_IMPORTED_MODULE_0__.ec();_angular_core__WEBPACK_IMPORTED_MODULE_0__.dc(0,\"mat-icon\",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.lc(\"click\",(function(){_angular_core__WEBPACK_IMPORTED_MODULE_0__.Fc(_r5);const i_r3=ctx.index;return _angular_core__WEBPACK_IMPORTED_MODULE_0__.pc().rate(i_r3)})),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Oc(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc()}if(2&rf){const star_r2=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Pc(star_r2)}}function RatingComponent_p_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.dc(0,\"p\",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Oc(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__.pc();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qc(\"\",ctx_r1.ratingsCount,\" ratings\")}}let RatingComponent=(()=>{class RatingComponent{constructor(){this.showText=!0}ngDoCheck(){this.ratingsCount&&this.ratingsValue&&!this.avg&&this.calculateAvgValue()}rate(value){}calculateAvgValue(){switch(this.avg=this.ratingsValue/this.ratingsCount,!0){case this.avg>0&&this.avg<20:this.stars=[\"star_half\",\"star_border\",\"star_border\",\"star_border\",\"star_border\"];break;case 20==this.avg:this.stars=[\"star\",\"star_border\",\"star_border\",\"star_border\",\"star_border\"];break;case this.avg>20&&this.avg<40:this.stars=[\"star\",\"star_half\",\"star_border\",\"star_border\",\"star_border\"];break;case 40==this.avg:this.stars=[\"star\",\"star\",\"star_border\",\"star_border\",\"star_border\"];break;case this.avg>40&&this.avg<60:this.stars=[\"star\",\"star\",\"star_half\",\"star_border\",\"star_border\"];break;case 60==this.avg:this.stars=[\"star\",\"star\",\"star\",\"star_border\",\"star_border\"];break;case this.avg>60&&this.avg<80:this.stars=[\"star\",\"star\",\"star\",\"star_half\",\"star_border\"];break;case 80==this.avg:this.stars=[\"star\",\"star\",\"star\",\"star\",\"star_border\"];break;case this.avg>80&&this.avg<100:this.stars=[\"star\",\"star\",\"star\",\"star\",\"star_half\"];break;case this.avg>=100:this.stars=[\"star\",\"star\",\"star\",\"star\",\"star\"];break;default:this.stars=[\"star_border\",\"star_border\",\"star_border\",\"star_border\",\"star_border\"]}}}return RatingComponent.ɵfac=function(t){return new(t||RatingComponent)},RatingComponent.ɵcmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb({type:RatingComponent,selectors:[[\"app-rating\"]],inputs:{ratingsCount:\"ratingsCount\",ratingsValue:\"ratingsValue\",direction:\"direction\",showText:\"showText\"},decls:4,vars:4,consts:[[3,\"fxLayout\",\"fxLayoutAlign\"],[1,\"ratings\"],[\"class\",\"mat-icon-xs\",3,\"click\",4,\"ngFor\",\"ngForOf\"],[\"class\",\"ratings-count text-muted\",4,\"ngIf\"],[1,\"mat-icon-xs\",3,\"click\"],[1,\"ratings-count\",\"text-muted\"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.dc(0,\"div\",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.dc(1,\"div\",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mc(2,RatingComponent_mat_icon_2_Template,2,1,\"mat-icon\",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mc(3,RatingComponent_p_3_Template,2,1,\"p\",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.cc()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.vc(\"fxLayout\",ctx.direction)(\"fxLayoutAlign\",\"row\"==ctx.direction?\"start center\":\"center end\"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.vc(\"ngForOf\",ctx.stars),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kb(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.vc(\"ngIf\",ctx.showText))},directives:[_angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_1__.c,_angular_flex_layout_flex__WEBPACK_IMPORTED_MODULE_1__.b,_angular_common__WEBPACK_IMPORTED_MODULE_2__.l,_angular_common__WEBPACK_IMPORTED_MODULE_2__.m,_angular_material_icon__WEBPACK_IMPORTED_MODULE_3__.a],styles:[\".ratings[_ngcontent-%COMP%]{color:#fbc02d}.ratings-count[_ngcontent-%COMP%]{margin-left:12px;font-weight:500}\"]}),RatingComponent})()},vBMV:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return FilterByIdPipe}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"fXoL\");let FilterByIdPipe=(()=>{class FilterByIdPipe{transform(items,id){return items.filter(item=>item.id==id)[0]}}return FilterByIdPipe.ɵfac=function(t){return new(t||FilterByIdPipe)},FilterByIdPipe.ɵpipe=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Wb({name:\"filterById\",type:FilterByIdPipe,pure:!0}),FilterByIdPipe})()}}]);","extractedComments":[]}